@using CarAdvertiser.Models
@model IEnumerable<CarAdvertiser.Models.UserAdvertsViewModel>
@{
    ViewBag.Title = "ManageAdverts";
}

<div class="container-fluid" style="width: 80%">
    <h3 align="center">Currently Active Adverts</h3>
    <table id="result" class="table table-striped table-bordered table-hover">
        <thead class="thead-dark">
        <tr>
            <th>Advert ID</th>
            <th>Make</th>
            <th>Model</th>
            <th>Price</th>
            <th>Expire Date</th>
            <th>Sold?</th>
            <th>Set As Sold</th>
        </tr>
        </thead>
        <tbody>
        @foreach (UserAdvertsViewModel item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(x => item.AdvertId)
                </td>
                <td>
                    @Html.DisplayFor(x => item.Make)
                </td>
                <td>
                    @Html.DisplayFor(x => item.Model)
                </td>
                <td>
                    £@Html.DisplayFor(x => item.Price)
                </td>
                <td>
                    @Html.DisplayFor(x => item.ClosingDate)
                </td>
                <td>
                    @Html.DisplayFor(x => item.IsSold)
                </td>
                <td>
                    @using (Html.BeginForm("SetAsSold", "User", FormMethod.Post))
                    {
                        @Html.AntiForgeryToken()
                        <input type="hidden" value="@item.AdvertId" name="id" />
                        <input type="submit" value="SET AS SOLD" class="btn btn-primary" />
                    }
                </td>
            </tr>
        }
        </tbody>
    </table>
</div>
<script type="text/javascript" language="javascript">
    $(document).ready(function () {
        var table = $("#result").DataTable({
            "paging": true,
            "searching": true,
            "pagingType": "full_numbers"
        });
    })
</script>



